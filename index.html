<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Template Carteirinha (Digital + Impressão)</title>
  <style>
    :root{
      --bg1:#ffffff;
      --bg2:#eef6ff;
      --ink:#0b1220;
      --muted:#5a6b86;
      --brand:#1d4ed8;
      --brand2:#0ea5e9;
      --ok:#16a34a;
      --bad:#dc2626;

      /* Tamanho CR80 (cartão) em mm */
      --card-w: 85.6mm;
      --card-h: 53.98mm;

      /* Segurança visual */
      --radius: 12px;
      --shadow: 0 10px 30px rgba(2, 8, 23, 0.15);
      --line: rgba(2, 8, 23, 0.10);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--ink);
      background: radial-gradient(1200px 600px at 20% 10%, #dbeafe 0%, transparent 55%),
                  radial-gradient(900px 600px at 80% 20%, #cffafe 0%, transparent 50%),
                  linear-gradient(180deg, #f8fafc 0%, #ffffff 60%);
      padding: 24px;
      display:flex;
      gap:24px;
      align-items:flex-start;
      justify-content:center;
      flex-wrap:wrap;
    }

    /* ===== CONTROLES (opcional) ===== */
    .panel{
      width:min(440px, 100%);
      background:#fff;
      border:1px solid var(--line);
      border-radius:16px;
      box-shadow: 0 8px 20px rgba(2, 8, 23, 0.06);
      padding:16px;
    }
    .panel h2{
      margin:0 0 10px 0;
      font-size:16px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .field label{
      font-size:12px;
      color:var(--muted);
    }
    .field input, .field select{
      height:36px;
      border:1px solid var(--line);
      border-radius:10px;
      padding:0 10px;
      outline:none;
      font-size:13px;
    }
    .field input:focus, .field select:focus{
      border-color: rgba(29, 78, 216, 0.45);
      box-shadow: 0 0 0 4px rgba(29, 78, 216, 0.10);
    }
    .actions{
      margin-top:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .btn{
      border:1px solid var(--line);
      background:#fff;
      height:38px;
      padding:0 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      font-size:13px;
    }
    .btn.primary{
      border-color: transparent;
      background: linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%);
      color:#fff;
    }
    .hint{
      margin-top:10px;
      color:var(--muted);
      font-size:12px;
      line-height:1.35;
    }

    /* ===== CARTÃO ===== */
    .wrap{
      display:flex;
      flex-direction:column;
      gap:14px;
      align-items:center;
    }

    .card{
      width: var(--card-w);
      height: var(--card-h);
      background: linear-gradient(135deg, var(--bg1) 0%, var(--bg2) 100%);
      border:1px solid rgba(2, 8, 23, 0.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }

    /* “ornamentos” discretos */
    .card::before{
      content:"";
      position:absolute;
      width:120%;
      height:120%;
      left:-20%;
      top:-50%;
      background: radial-gradient(circle at 30% 40%, rgba(29,78,216,0.20), transparent 55%),
                  radial-gradient(circle at 75% 35%, rgba(14,165,233,0.18), transparent 60%);
      transform: rotate(-8deg);
      pointer-events:none;
    }
    .card::after{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(90deg, rgba(2,8,23,0.05) 0 0);
      pointer-events:none;
    }

    /* área segura (só visual p/ desenvolvimento) */
    .safe{
      position:absolute;
      inset: 2.5mm;
      border-radius: 10px;
      pointer-events:none;
    }

    .content{
      position:relative;
      height:100%;
      display:flex;
      flex-direction:column;
      padding: 10px 10px 8px 10px;
      gap:8px;
    }

    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding-bottom:6px;
      border-bottom:1px solid rgba(2,8,23,0.08);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:8px;
      min-width:0;
    }

    .logo{
      width:20px; height:20px;
      border-radius:6px;
      background: linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%);
      display:grid;
      place-items:center;
      color:#fff;
      font-weight:900;
      font-size:12px;
      flex:0 0 auto;
    }

    .brand .name{
      font-weight:800;
      font-size:10.5px;
      line-height:1.1;
      letter-spacing:0.2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 46mm;
    }

    .title{
      text-align:right;
      min-width:0;
    }
    .title .t1{
      font-weight:900;
      font-size:10px;
      letter-spacing:0.45px;
      text-transform:uppercase;
      white-space:nowrap;
    }
    .title .t2{
      font-size:8.5px;
      color:var(--muted);
      white-space:nowrap;
    }

    .mid{
      display:grid;
      grid-template-columns: 24mm 1fr 20mm;
      gap:8px;
      align-items:stretch;
      flex:1;
      min-height:0;
    }

    .photo{
      border:1px solid rgba(2,8,23,0.15);
      border-radius:10px;
      overflow:hidden;
      background:#fff;
      position:relative;
    }
    .photo img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .photo .ph{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      font-size:9px;
      color:var(--muted);
      background: repeating-linear-gradient(
        45deg,
        rgba(2,8,23,0.04),
        rgba(2,8,23,0.04) 6px,
        rgba(2,8,23,0.02) 6px,
        rgba(2,8,23,0.02) 12px
      );
    }

    .info{
      display:flex;
      flex-direction:column;
      gap:4px;
      min-width:0;
    }
    .row{
      display:flex;
      gap:6px;
      align-items:baseline;
      min-width:0;
    }
    .k{
      font-size:7.8px;
      color:var(--muted);
      font-weight:700;
      letter-spacing:0.2px;
      flex:0 0 auto;
      min-width: 14mm;
      text-transform:uppercase;
    }
    .v{
      font-size:9.6px;
      font-weight:800;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
      min-width:0;
    }
    .v.small{
      font-size:9px;
      font-weight:800;
    }

    .qr{
      border:1px solid rgba(2,8,23,0.15);
      border-radius:10px;
      background:#fff;
      padding:4px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:3px;
    }
    #qrcode{
      width:100%;
      display:grid;
      place-items:center;
    }
    .qr .caption{
      font-size:7.5px;
      color:var(--muted);
      text-align:center;
      line-height:1.1;
    }

    .bottom{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      padding-top:6px;
      border-top:1px solid rgba(2,8,23,0.08);
    }

    .status{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 4px 8px;
      border-radius:999px;
      font-size:8.5px;
      font-weight:900;
      letter-spacing:0.25px;
      text-transform:uppercase;
      border:1px solid rgba(2,8,23,0.12);
      background:#fff;
      white-space:nowrap;
    }
    .dot{
      width:7px; height:7px;
      border-radius:999px;
      background:var(--ok);
      box-shadow: 0 0 0 3px rgba(22,163,74,0.12);
    }
    .status.inactive .dot{
      background:var(--bad);
      box-shadow: 0 0 0 3px rgba(220,38,38,0.12);
    }

    .meta{
      text-align:right;
      font-size:8.2px;
      color:var(--muted);
      line-height:1.15;
      white-space:nowrap;
    }

    /* ===== PRINT ===== */
    @media print{
      body{
        background:#fff;
        padding:0;
      }
      .panel{ display:none; }
      .card{
        box-shadow:none;
        border: 1px solid #000;
      }
      .wrap{
        margin:0;
        padding:0;
      }
      .note-print{
        display:none;
      }
    }

    .note-print{
      font-size:12px;
      color:var(--muted);
      max-width: 520px;
      line-height:1.35;
      text-align:center;
    }
    code{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace; font-size: 11px; }
  </style>
</head>

<body>

  <!-- Painel opcional para testar/preencher (não aparece na impressão) -->
  <div class="panel">
    <h2>Dados da carteirinha (teste)</h2>
    <div class="grid">
      <div class="field">
        <label>Nome completo</label>
        <input id="inName" value="João da Silva de Souza" />
      </div>
      <div class="field">
        <label>CPF (completo)</label>
        <input id="inCpf" value="123.456.789-12" />
      </div>
      <div class="field">
        <label>Data de nascimento</label>
        <input id="inDob" value="10/02/1995" />
      </div>
      <div class="field">
        <label>Polo (texto livre)</label>
        <input id="inPolo" value="Recife – Centro" />
      </div>
      <div class="field">
        <label>Curso (texto livre)</label>
        <input id="inCourse" value="Informática Básica" />
      </div>
      <div class="field">
        <label>Status</label>
        <select id="inStatus">
          <option value="ATIVA" selected>ATIVA</option>
          <option value="INATIVA">INATIVA</option>
        </select>
      </div>
      <div class="field">
        <label>Código da carteirinha</label>
        <input id="inCode" value="CD-ALU-8F3K2" />
      </div>
      <div class="field">
        <label>URL de validação (vai no QR)</label>
        <input id="inUrl" value="https://seudominio.com/validar/CD-ALU-8F3K2" />
      </div>
      <div class="field" style="grid-column:1 / -1;">
        <label>Foto 3×4 (upload)</label>
        <input id="inPhoto" type="file" accept="image/*" />
      </div>
    </div>

    <div class="actions">
      <button class="btn" id="btnMask">CPF parcial</button>
      <button class="btn" id="btnFull">CPF completo</button>
      <button class="btn primary" onclick="window.print()">Imprimir / Salvar PDF</button>
    </div>

    <div class="hint">
      Dica: para imprimir em tamanho real, no diálogo de impressão use <b>Escala 100%</b> e desative “Ajustar à página”.
      O cartão está em <code>85,6mm × 53,98mm</code>.
    </div>
  </div>

  <!-- CARTÃO -->
  <div class="wrap">
    <div class="card" id="card">
      <div class="safe" aria-hidden="true"></div>

      <div class="content">
        <div class="top">
          <div class="brand">
            <div class="logo" aria-label="Logo">CD</div>
            <div class="name" id="brandName">Cursos Diversos</div>
          </div>

          <div class="title">
            <div class="t1">CARTEIRINHA DO ALUNO</div>
            <div class="t2">Documento interno — sem validade</div>
          </div>
        </div>

        <div class="mid">
          <div class="photo" id="photoBox">
            <img id="photoImg" alt="Foto 3x4" style="display:none;" />
            <div class="ph" id="photoPh">Foto 3×4</div>
          </div>

          <div class="info">
            <div class="row">
              <div class="k">Nome</div>
              <div class="v" id="outName">João da Silva de Souza</div>
            </div>
            <div class="row">
              <div class="k">CPF</div>
              <div class="v small" id="outCpf">***.***.***-12</div>
            </div>
            <div class="row">
              <div class="k">Nascimento</div>
              <div class="v small" id="outDob">10/02/1995</div>
            </div>
            <div class="row">
              <div class="k">Polo</div>
              <div class="v small" id="outPolo">Recife – Centro</div>
            </div>
            <div class="row">
              <div class="k">Curso</div>
              <div class="v small" id="outCourse">Informática Básica</div>
            </div>
            <div class="row">
              <div class="k">Código</div>
              <div class="v small" id="outCode">CD-ALU-8F3K2</div>
            </div>
          </div>

          <div class="qr">
            <div id="qrcode"></div>
            <div class="caption">Verificar<br/>autenticidade</div>
          </div>
        </div>

        <div class="bottom">
          <div class="status" id="outStatus">
            <span class="dot" aria-hidden="true"></span>
            <span id="outStatusText">ATIVA</span>
          </div>

          <div class="meta">
            <div id="outIssued">Emitida em: 10/02/2026</div>
            <div id="outSupport">Suporte: (00) 00000-0000</div>
          </div>
        </div>
      </div>
    </div>

    <div class="note-print">
      Quer colocar 4 carteirinhas por folha A4? Eu adapto o template para grade (4-up) e com marcas de corte.
    </div>
  </div>

  <!-- QR Code library (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" integrity="sha512-nS0W6r4m4Rr5lXv3p/6q0wZ5oJ4l1b6jCqYcJmQH0oGq8v4gN0G0iB7j0v6D4qZy5GJfFJ6oZtVZp2v1m1Wm5A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    // ===== Helpers =====
    function todayBR(){
      const d = new Date();
      const dd = String(d.getDate()).padStart(2,'0');
      const mm = String(d.getMonth()+1).padStart(2,'0');
      const yy = d.getFullYear();
      return `${dd}/${mm}/${yy}`;
    }

    function maskCpf(cpf){
      // aceita "123.456.789-12" ou só números
      const digits = (cpf || '').replace(/\D/g,'').padStart(11,'0').slice(0,11);
      const last2 = digits.slice(-2);
      return `***.***.***-${last2}`;
    }

    // ===== QR init =====
    let qr;
    function renderQR(text){
      const box = document.getElementById('qrcode');
      box.innerHTML = '';
      qr = new QRCode(box, {
        text: text || 'https://seudominio.com/validar/EXEMPLO',
        width: 80,
        height: 80,
        correctLevel: QRCode.CorrectLevel.M
      });
    }

    // ===== Bind inputs -> outputs =====
    const els = {
      inName: document.getElementById('inName'),
      inCpf: document.getElementById('inCpf'),
      inDob: document.getElementById('inDob'),
      inPolo: document.getElementById('inPolo'),
      inCourse: document.getElementById('inCourse'),
      inStatus: document.getElementById('inStatus'),
      inCode: document.getElementById('inCode'),
      inUrl: document.getElementById('inUrl'),
      inPhoto: document.getElementById('inPhoto'),

      outName: document.getElementById('outName'),
      outCpf: document.getElementById('outCpf'),
      outDob: document.getElementById('outDob'),
      outPolo: document.getElementById('outPolo'),
      outCourse: document.getElementById('outCourse'),
      outCode: document.getElementById('outCode'),
      outIssued: document.getElementById('outIssued'),
      outStatus: document.getElementById('outStatus'),
      outStatusText: document.getElementById('outStatusText'),

      photoImg: document.getElementById('photoImg'),
      photoPh: document.getElementById('photoPh'),
    };

    let showFullCpf = false;

    function sync(){
      els.outName.textContent = els.inName.value || '-';
      const cpfRaw = els.inCpf.value || '';
      els.outCpf.textContent = showFullCpf ? cpfRaw : maskCpf(cpfRaw);
      els.outDob.textContent = els.inDob.value || '-';
      els.outPolo.textContent = els.inPolo.value || '-';
      els.outCourse.textContent = els.inCourse.value || '-';
      els.outCode.textContent = els.inCode.value || '-';
      els.outIssued.textContent = `Emitida em: ${todayBR()}`;

      const status = els.inStatus.value;
      els.outStatusText.textContent = status;
      els.outStatus.classList.toggle('inactive', status === 'INATIVA');

      renderQR(els.inUrl.value || '');
    }

    // Photo upload preview
    els.inPhoto.addEventListener('change', (e) => {
      const file = e.target.files && e.target.files[0];
      if(!file) return;

      const url = URL.createObjectURL(file);
      els.photoImg.src = url;
      els.photoImg.style.display = 'block';
      els.photoPh.style.display = 'none';
    });

    // CPF toggles
    document.getElementById('btnMask').addEventListener('click', () => {
      showFullCpf = false;
      sync();
    });
    document.getElementById('btnFull').addEventListener('click', () => {
      showFullCpf = true;
      sync();
    });

    // Live updates
    ['input','change'].forEach(evt => {
      document.querySelectorAll('input, select').forEach(el => el.addEventListener(evt, sync));
    });

    // First render
    sync();
  </script>
</body>
</html>
